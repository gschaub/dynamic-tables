import { apiFetch } from "@wordpress/fetch-api";
import { addQueryArgs } from "@wordpress/url";
import { hydrate } from "./actions";

export function* getTable(id) {
    console.log('            In resolver.js - Running Webservice')

    const queryParams = { tableId: id };
    const table = yield apiFetch({
        path: addQueryArgs('dynamic-tables/v1/tableData',
            queryParams)

    })
    console.log('            Webservice result: Table = ' + JSON.stringify(table, null, 4));
    if (table) {
        console.log(table);
        return hydrate(table);
    }
    // const table = yield fetch(something());
    // if (table) {
    //     return hydrate(table);
    // }
    // return;
}