(()=>{"use strict";var e,o={826:(e,o,l)=>{var t={};l.r(t),l.d(t,{getDeletedTables:()=>G,getTable:()=>W,getTableBlockId:()=>J,getTableIdByBlock:()=>z,getTableTest:()=>q,getTables:()=>F,getUnmountedTables:()=>V,getUnsavedTables:()=>Y});var n={};l.r(n),l.d(n,{addColumn:()=>Te,addRow:()=>xe,assignTableId:()=>Ee,createTableEntity:()=>ge,deleteTableEntity:()=>pe,processDeletedTables:()=>_e,processUnmountedTables:()=>we,receiveNewTable:()=>ue,receiveTable:()=>be,receiveTableTest:()=>Be,removeColumn:()=>fe,removeRow:()=>ve,removeTableProp:()=>Ce,saveTableEntity:()=>he,updateCell:()=>Ie,updateColumn:()=>Se,updateRow:()=>Ne,updateTableBorder:()=>ye,updateTableEntity:()=>me,updateTableProp:()=>Re});var s={};l.r(s),l.d(s,{getTable:()=>Ae});const a=window.wp.blocks,r=window.wp.data,i=window.wp.element,c=window.wp.editor,d=window.wp.notices,u=window.wp.coreData,b=window.wp.compose,g=window.wp.i18n,h=(window.React,window.wp.components),m=window.wp.blockEditor,p=window.wp.primitives,_=window.ReactJSXRuntime,w=(p.SVG,p.Path,(0,_.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)(p.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})})),T={CREATE_TABLE:"CREATE_TABLE",INSERT_COLUMN:"INSERT_COLUMN",INSERT_ROW:"INSERT_ROW",DELETE_TABLE:"DELETE_TABLE",DELETE_COLUMN:"DELETE_COLUMN",DELETE_ROW:"DELETE_ROW",CHANGE_TABLE_ID:"CHANGE_TABLE_ID",UPDATE_TABLE_PROP:"UPDATE_TABLE_PROP",REMOVE_TABLE_PROP:"REMOVE_TABLE_PROP",UPDATE_ROW:"UPDATE_ROW",UPDATE_COLUMN:"UPDATE_COLUMN",UPDATE_CELL:"UPDATE_CELL",RECEIVE_HYDRATE:"RECEIVE_HYDRATE",RECEIVE_HYDRATE_TEST:"RECEIVE_HYDRATE_TEST",PERSIST:"PERSIST",PROCESS_BORDERS:"PROCESS_BORDERS"};function x(e){const o=[{nbr:"1",letter:"A"},{nbr:"2",letter:"B"},{nbr:"3",letter:"C"},{nbr:"4",letter:"D"},{nbr:"5",letter:"E"},{nbr:"6",letter:"F"},{nbr:"7",letter:"G"},{nbr:"8",letter:"H"},{nbr:"9",letter:"I"},{nbr:"a",letter:"J"},{nbr:"b",letter:"k"},{nbr:"c",letter:"L"},{nbr:"d",letter:"M"},{nbr:"e",letter:"N"},{nbr:"f",letter:"O"},{nbr:"g",letter:"P"},{nbr:"h",letter:"Q"},{nbr:"i",letter:"R"},{nbr:"j",letter:"S"},{nbr:"k",letter:"T"},{nbr:"l",letter:"U"},{nbr:"m",letter:"V"},{nbr:"n",letter:"W"},{nbr:"o",letter:"X"},{nbr:"p",letter:"Y"},{nbr:"q",letter:"Z"}];if(0===e)return console.log("...In Letter = 0"),"0";var l=e.toString(26).split("");let t="";return l.map((e=>{t+=o.find((o=>o.nbr===e)).letter})),t}function f(e,o,l,t){return console.log("Update Array"),console.log(e),console.log(o),console.log(l),console.log(t),e.map((e=>e[o]===l?{...e,...t}:e))}function v(e,o){if(console.log("SORTING TABLE"),console.log("Table Part = "+e),console.log(o),"rows"===e){console.log("...in Rows sort");var l=[...o];return l.sort(((e,o)=>Number([e.row_id])<Number([o.row_id])?-1:1)),l}if("columns"===e){console.log("...in Columns sort");var t=[...o];return t.sort(((e,o)=>(console.log(Number(e.column_id)),Number([e.column_id])<Number([o.column_id])?-1:1))),console.log(t),t}if("cells"===e){console.log("...in Cells sort");var n=[...o];return n.sort(((e,o)=>(console.log([Number([e.row_id]),Number([e.column_id])]),console.log([Number([o.row_id]),Number([o.column_id])]),Number([e.row_id])===Number([o.row_id])?Number([e.column_id])<Number([o.column_id])?-1:1:Number([e.row_id])<Number([o.row_id])?-1:1))),console.log(n),n}console.log("...NO SORT RETURNED")}function E(e,o,l){return"0"===e&&"0"===o?"":l}function R(e,o,l){return!(!e||o!==l)}const{CREATE_TABLE:C,INSERT_COLUMN:N,INSERT_ROW:S,DELETE_TABLE:I,DELETE_COLUMN:y,DELETE_ROW:B,CHANGE_TABLE_ID:A,UPDATE_TABLE_PROP:j,REMOVE_TABLE_PROP:U,UPDATE_ROW:H,UPDATE_COLUMN:P,UPDATE_CELL:k,RECEIVE_HYDRATE:D,RECEIVE_HYDRATE_TEST:O,PERSIST:L,PROCESS_BORDERS:M}=T;function W(e,o,l){return console.log("Selector...GetTable "+o),console.log("        ...Current Table Stale "+l),console.log(e),e.tables.hasOwnProperty(o)?e.tables[o]:(console.log("State not defined"),{table_id:o,block_table_ref:"",post_id:"",table_status:"",table_name:"",attributes:[],classes:"",rows:[],columns:[],cells:[]})}function F(e){return e.tables}function z(e,o){const l=Object.keys(e.tables).reduce(((l,t)=>(e.tables[t]?.block_table_ref===o&&(console.log({...e.tables[t]?.block_table_ref}),l[t]={...e.tables[t]}),l)),{});return 0!==l.length&&Object.keys(l)}function V(e){return console.log(e.tables),Object.keys(e.tables).reduce(((o,l)=>(e.tables[l].unmounted_blockid&&(o[l]={...e.tables[l]}),o)),{})}function G(e){return Object.keys(e.tables).reduce(((o,l)=>(console.log(e.tables[l].table_status),"deleted"===e.tables[l].table_status&&(o[l]={...e.tables[l]}),o)),{})}function Y(e){return Object.keys(e.tables).reduce(((o,l)=>(console.log(e.tables[l].table_status),"new"===e.tables[l].table_status&&(o[l]={...e.tables[l]}),o)),{})}function J(e){}const q=(0,r.createRegistrySelector)((e=>()=>e(u.store).getEntityRecord("dynamic-tables/v1","table","18"))),{CREATE_TABLE:X,INSERT_COLUMN:K,INSERT_ROW:Q,DELETE_TABLE:Z,DELETE_COLUMN:$,DELETE_ROW:ee,CHANGE_TABLE_ID:oe,UPDATE_TABLE_PROP:le,REMOVE_TABLE_PROP:te,UPDATE_ROW:ne,UPDATE_COLUMN:se,UPDATE_CELL:ae,RECEIVE_HYDRATE:re,RECEIVE_HYDRATE_TEST:ie,PERSIST:ce,PROCESS_BORDERS:de}=(window.wp.url,window.wp.dataControls,T);function ue(e){return console.log("Receiving New Table"),console.log(e),console.log(e.table.table_id),{type:X,tableId:e.table.table_id,...e}}function be(e,o,l,t,n,s,a,r,i,c){return console.log("            ...Action - In receiveTable"),console.log("                - id: "+e),console.log("Block Ref = "+o),console.log("Status = "+l),{type:re,tableId:e,table:{table_id:e,block_table_ref:o,table_status:l,post_id:t,table_name:n,attributes:s,classes:a,rows:r,columns:i,cells:c}}}const ge=()=>async({select:e,dispatch:o,registry:l})=>{const{table_id:t,block_table_ref:n,post_id:s,table_name:a,attributes:r,classes:i,rows:c,columns:d,cells:b}=e.getTable("0","Saved"),g=e.getTable("0",!1);console.log(g);const h={title:a,header:{id:t,block_table_ref:n,status:"new",post_id:s,table_name:a,attributes:r,classes:i},rows:[...c],columns:[...d],cells:[...b]};console.log("CREATING TABLE ENTITY"),console.log(h);try{const e=await l.dispatch(u.store).saveEntityRecord("dynamic-tables","table",h);return o.assignTableId(e.id),e.id}catch(e){console.log("Error in createTableEntity -  Table ID - "+t+", block table ref = "+n+", Post Id = "+s),alert("            ...Create Table Entity - async error - "+e)}},he=e=>({registry:o})=>{console.log("SAVING TABLE ENTITY");try{o.dispatch(u.store).saveEditedEntityRecord("dynamic-tables","table",e)}catch(o){console.log("Error in saveTableEntity - Table ID - "+e),alert("            ...Save Table Entity - async error - "+o)}},me=(e,o="")=>({select:l,registry:t})=>{const n=l.getTable(e,!1);console.log(n);const{table_id:s,block_table_ref:a,table_status:r,post_id:i,table_name:c,attributes:d,classes:b,rows:g,columns:h,cells:m}=l.getTable(e,!1);var p=g.filter((e=>"0"!==e.row_id)),_=h.filter((e=>"0"!==e.column_id)),w=m.filter((e=>"0"!==e.row_id&&"0"!==e.column_id)).map((({table_id:e,column_id:o,row_id:l,attributes:t,classes:n,content:s})=>({table_id:e,column_id:o,row_id:l,attributes:t,classes:n,content:s})));const T={id:e,title:c,header:{id:s,block_table_ref:a,status:((e,o)=>e||o)(o,r),post_id:i,table_name:c,attributes:d,classes:b},rows:[...p],columns:[..._],cells:[...w]};console.log("UPDATING TABLE ENTITY"),console.log(T);try{t.dispatch(u.store).editEntityRecord("dynamic-tables","table",s,T)}catch(o){console.log("Error in updateTableEntity - Table ID - "+e),alert("            ...Update Table Entity - async error - "+o)}},pe=e=>async({select:o,dispatch:l,registry:t})=>{console.log("In Action deleteTableEntity");try{await t.dispatch(u.store).deleteEntityRecord("dynamic-tables","table",e),l({type:Z,tableId:e})}catch(o){console.log("Error in deleteTableEntity - Table ID - "+e),alert("            ...Resolver - async error - "+o)}console.log("            Resolver - async completed")},_e=e=>({dispatch:o,registry:l})=>{console.log("In Action processDeletedTables"),Object.keys(e).forEach((l=>{const t=e[l].table_id;console.log(t),o.deleteTableEntity(e[l].table_id)}))},we=e=>({dispatch:o,registry:l})=>{console.log("In Action processDeletedTables"),Object.keys(e).forEach((t=>{const n=e[t].unmounted_blockid,s=l.select(m.store).getBlock(n);console.log(s),s?(o.removeTableProp(e[t].table_id,"unmounted_blockid"),o.updateTableProp(e[t].table_id,"table_status")):(o.removeTableProp(e[t].table_id,"unmounted_blockid"),o.updateTableProp(e[t].table_id,"table_status","deleted"))}))},Te=(e,o,l,t)=>({type:K,tableId:e,columnId:o,newColumn:l,columnCells:t}),xe=(e,o,l,t)=>({type:Q,tableId:e,rowId:o,newRow:l,rowCells:t}),fe=(e,o)=>({type:$,tableId:e,columnId:o}),ve=(e,o)=>({type:ee,tableId:e,rowId:o}),Ee=e=>(console.log("In Action updateTableProp"),{type:oe,tableId:"0",newTableId:String(e)}),Re=(e,o,l)=>(console.log("In Action updateTableProp"),{type:le,tableId:e,attribute:o,value:l}),Ce=(e,o)=>(console.log("In Action removeTableProp"),{type:te,tableId:e,attribute:o}),Ne=(e,o,l,t)=>(console.log("In Action updateRow"),{type:ne,tableId:e,rowId:o,attribute:l,value:t}),Se=(e,o,l,t)=>(console.log("In Action updateColumn"),{type:se,tableId:e,columnId:o,attribute:l,value:t}),Ie=(e,o,l,t)=>(console.log("In Action updateCell"),{type:ae,tableId:e,cellId:o,attribute:l,value:t}),ye=(e,o,l,t)=>async({dispatch:n})=>{console.log("Updating Border"),await n({type:de,tableId:e,rows:o,columns:l,cells:t})};function Be(e){return console.log("            ...Action - In receiveTableTest"),{type:ie,tableEntity:e}}window.wp.apiFetch;const Ae=(e,o)=>async({dispatch:l,registry:t})=>{if(console.log("            ...Resolver - Before fetch"),console.log("            ...Table ID = "+e),console.log("            ...Table Stale = "+o),o&&"0"!=e){try{const o=await t.resolveSelect(u.store).getEntityRecord("dynamic-tables","table",e),n=o.id,s=o.header.block_table_ref,a=o.header.status,r=o.header.post_id,i=o.header.table_name,c=o.header.attributes,d=o.header.classes,b=o.rows,g=o.columns;o.cells.forEach((e=>{e.cell_id=x(e.column_id)+e.row_id,console.log(e)}));const h=o.cells;l.receiveTable(n,s,a,r,i,c,d,b,g,h)}catch(o){console.log("Error in getTable - Table ID = "+e),alert("            ...Resolver - async error - "+JSON.stringify(o,null,4))}console.log("            Resolver - async completed")}else console.log("Bypassing API Call")},je=(0,r.createReduxStore)("dynamic-tables/table",{reducer:(e={tables:{}},o)=>{console.log("MAIN REDUCER"),console.log(e),console.log("  Action Table ID = "+o.tableId),console.log(o);let l=o.tableId;console.log(e.tables[l]);let t=((e={table:{}},o)=>{switch(console.log("      Reducer. state: "+JSON.stringify(e)),console.log("      Reducer. type: "+o.type),o.type){case C:return console.log("In Reducer CREATE_TABLE"),console.log(o.table),{table:{...o.table}};case A:console.log("In Reducer CHANGE_TABLE_ID");const u={...e};var l=[],t=[],n=[];console.log(u.rows),u.rows.forEach((e=>{console.log(e);let t={...e,table_id:o.newTableId};l.push(t)})),u.columns.forEach((e=>{let l={...e,table_id:o.newTableId};t.push(l)})),u.cells.forEach((e=>{let l={...e,table_id:o.newTableId};n.push(l)}));const b={...e,table_id:o.newTableId,rows:[...l],columns:[...t],cells:[...n]};return console.log(b),{table:b};case j:console.log("In Reducer UPDATE_TABLE_PROP");const g={...e,[o.attribute]:o.value};return console.log(g),{table:g};case U:const h={...e};return delete h[o.attribute],{table:h};case N:console.log("In Reducer INSERT_COLUMN");let m={...e};t=[],m.columns.forEach((e=>{if(Number(e.column_id)<Number(o.columnId))t.push(e);else{let o={table_id:e.table_id,column_id:String(Number(e.column_id)+1),column_name:e.column_name,attributes:e.attributes,classes:e.classes};t.push(o)}})),t.push(o.newColumn);var s=v("columns",t);n=[],m.cells.forEach((e=>{if(e.column_id<o.columnId)n.push(e);else{let o=String(Number(e.column_id)+1),l=x(o),t=0==Number(e.row_id)?l:e.content,s={table_id:e.table_id,column_id:o,row_id:e.row_id,cell_id:l+e.row_id,attributes:e.attributes,classes:e.classes,content:t};n.push(s)}}));var a=v("cells",[...n,...o.columnCells]),r={...m,rows:[...m.rows],columns:[...s],cells:[...a]};return console.log(r),{table:r};case S:console.log("In Reducer INSERT_ROW");let p={...e};l=[],p.rows.forEach((e=>{if(Number(e.row_id)<Number(o.rowId))l.push(e);else{let o={table_id:e.table_id,row_id:String(Number(e.row_id)+1),attributes:e.attributes,classes:e.classes};l.push(o)}})),l.push(o.newRow),console.log(l);var i=v("rows",l);return console.log(i),n=[],p.cells.forEach((e=>{if(console.log(e),Number(e.row_id)<Number(o.rowId))n.push(e);else{let o=String(Number(e.row_id)+1),l="0"==e.column_id?"0":x(e.column_id),t=0==Number(e.column_id)?o:e.content,s={table_id:e.table_id,column_id:e.column_id,row_id:o,cell_id:l+o,attributes:e.attributes,classes:e.classes,content:t};n.push(s)}})),a=v("cells",[...n,...o.rowCells]),{table:c={...p,rows:[...i],columns:[...p.columns],cells:[...a]}};case y:console.log("In Reducer DELETE_COLUMN");let _={...e};return t=[],_.columns.forEach((e=>{if(Number(e.column_id)<Number(o.columnId))t.push(e);else if(Number(e.column_id)>Number(o.columnId)){let o={table_id:e.table_id,column_id:String(Number(e.column_id)-1),column_name:e.column_name,attributes:e.attributes,classes:e.classes};t.push(o)}})),n=[],_.cells.forEach((e=>{if(Number(e.column_id)<Number(o.columnId))n.push(e);else if(Number(e.column_id)>Number(o.columnId)){let o=String(Number(e.column_id)-1),l=x(o),t=0==Number(e.row_id)?l:e.content,s={table_id:e.table_id,column_id:o,row_id:e.row_id,cell_id:l+e.row_id,attributes:e.attributes,classes:e.classes,content:t};n.push(s)}})),r={..._,rows:[..._.rows],columns:[...t],cells:[...n]},console.log(r),{table:r};case B:console.log("In Reducer DELETE_ROW");let w={...e};l=[],console.log(w),w.rows.forEach((e=>{if(Number(e.row_id)<Number(o.rowId))l.push(e);else if(Number(e.row_id)>Number(o.rowId)){let o={table_id:e.table_id,row_id:String(Number(e.row_id)-1),attributes:e.attributes,classes:e.classes};l.push(o)}})),n=[],console.log(w.cells),w.cells.forEach((e=>{if(Number(e.row_id)<Number(o.rowId))n.push(e);else if(Number(e.row_id)>Number(o.rowId)){let o=String(Number(e.row_id)-1),l="0"==e.column_id?"0":x(e.column_id),t=0==Number(e.column_id)?o:e.content,s={table_id:e.table_id,column_id:e.column_id,row_id:o,cell_id:l+e.row_id,attributes:e.attributes,classes:e.classes,content:t};n.push(s)}}));var c={...w,rows:[...l],columns:[...w.columns],cells:[...n]};return console.log(c),{table:c};case H:console.log("In Reducer UPDATE_ROW");var d=' "'+o.value+'"';"attributes"===o.attribute&&(d=JSON.stringify(o.value)),console.log();let T={...e},E=JSON.parse('{ "'+o.attribute+'" :'+d+"}");console.log(T),console.log(T.rows);let R=f(T.rows,"row_id",o.rowId,E);return console.log(E),console.log(R),{table:{...T,rows:[...R],columns:[...T.columns],cells:[...T.cells]}};case P:console.log("In Reducer UPDATE_COLUMN"),d=' "'+o.value+'"',"attributes"===o.attribute&&(d=JSON.stringify(o.value)),console.log(d);let I={...e},O=JSON.parse('{ "'+o.attribute+'" :'+d+"}");console.log(I),console.log(I.columns);let L=f(I.columns,"column_id",o.columnId,O);return console.log(O),console.log(L),{table:{...I,rows:[...I.rows],columns:[...L],cells:[...I.cells]}};case k:console.log("In Reducer UPDATE_CELL");let W={...e};console.log(e),console.log(W);let F=JSON.parse('{ "'+o.attribute+'" : "'+o.value+'"}'),z=f(W.cells,"cell_id",o.cellId,F),V={...e,rows:[...W.rows],columns:[...W.columns],cells:[...z]};return console.log(V),{table:V};case M:console.log("In Reducer PROCESS_BORDERS");const G={...e};let Y={...G,rows:v("rows",[...o.rows]),columns:v("columns",[...o.columns]),cells:v("cells",[...o.cells])};return console.log(G),console.log(Y),{table:Y};case D:return console.log("RECEIVE_HYDATE..."),console.log(e),console.log(o.table),{table:{...e.table,...o.table}};default:return e}})(e.tables[l],o),n={[o.tableId]:t.table};if("{}"===JSON.stringify(t.table))return e;console.log(n);const s={...e.tables};switch(o.type){case A:console.log("In Reducer CHANGE_TABLE_ID for state");const l={[o.newTableId]:t.table};console.log(l);const n=Object.keys(e.tables).reduce(((l,t)=>(console.log(e.tables[t]),e.tables[t].table_id!==o.tableId&&(l[t]={...e.tables[t]}),l)),{});return console.log(n),{tables:{...n,...l}};case I:console.log("In Reducer DELETE_TABLE...");const a=Object.keys(e.tables).reduce(((l,t)=>(console.log("Reducer key = "+t),console.log("TableId to delete = "+String(o.tableId)),console.log(l),t!==String(o.tableId)&&(l[t]={...e.tables[t],rows:[...e.tables[t].rows],columns:[...e.tables[t].columns],cells:[...e.tables[t].cells]}),l)),{});return console.log(a),{tables:{...a}};default:return console.log("In Reducer Default State Handling"),{tables:{...s,[o.tableId]:t.table}}}},selectors:t,actions:n,resolvers:s});function Ue(e,o,l="Body"){let t;return console.log("In GetDefaultRow"),console.log("...tableId = "+e),console.log("...rowId = "+o),console.log("...rowLocation = "+l),t={table_id:String(e),row_id:String(o),attributes:ke("rows",l),classes:De("rows")},console.log(t),t}function He(e,o,l="Body"){let t;return t="Border"===l?{table_id:String(e),column_id:String(o),column_name:"Border",attributes:ke("columns",l),classes:""}:{table_id:String(e),column_id:String(o),column_name:"Comments",attributes:ke("columns",l),classes:De("columns")},t}function Pe(e,o,l,t="Body"){let n,s=x(o),a=0==l?s:String(l);return n="Border"===t?{table_id:String(e),column_id:String(o),row_id:String(l),cell_id:0===l?s+"0":"0"+String(o),attributes:ke("cells",t),classes:"grid-control__border-cells hover",content:a}:{table_id:String(e),column_id:String(o),row_id:String(l),cell_id:s+l,attributes:ke("cells",t),classes:De("cells"),content:""},n}function ke(e,o="Body"){const l={showGridLines:!1,bandedRows:!1,bandedRowBackgroundColor:"#d8dbda",bandedTextColor:"#d8dbda",gridLineWidth:1,allowHorizontalScroll:!0,enableHeaderRow:!1,headerAlignment:"center",headerRowSticky:!1,headerBorder:{color:"black",style:"solid",width:"1px"},horizontalAlignment:"none",bodyAlignment:void 0,bodyBorder:{color:"black",style:"solid",width:"1px"},verticalAlignment:"none",hideTitle:!0},t={columnWidthType:"Proportional",minWidth:2,minWidthUnits:"ch",maxWidth:1,maxWidthUnits:"fr",fixedWidth:1,fixedWidthUnits:"fr",disableForTablet:!1,disableForPhone:!1,isFixedLeftColumnGroup:!1,horizontalAlignment:"none"},n={columnWidthType:"Fixed",minWidth:0,minWidthUnits:"",maxWidth:0,maxWidthUnits:"",fixedWidth:20,fixedWidthUnits:"px",disableForTablet:!1,disableForPhone:!1,isFixedLeftColumnGroup:!1,horizontalAlignment:"center"},s={rowHeightType:"Auto",minHeight:0,minHeightUnits:"em",maxHeight:0,maxHeightUnits:"em",fixedHeight:0,fixedHeightUnits:"em",isHeader:!1,verticalAlignment:"none"},a={rowHeightType:"Auto",minHeight:0,minHeightUnits:"em",maxHeight:0,maxHeightUnits:"em",fixedHeight:0,fixedHeightUnits:"em",isHeader:!1,verticalAlignment:"none"},r={border:!1},i={border:!0};switch(e){case"table":return l;case"columns":return"Border"===o?n:t;case"rows":return"Border"===o?a:s;case"cells":return"Border"===o?i:r;default:return}}function De(e){switch(e){case"table":case"columns":case"rows":case"cells":return"";default:return}}function Oe(e,o,l,t,n,s){let a;switch(o){case"Header":a=2,a=n?a++:a;break;case"Body":a=e+l,a=n?a++:a,a=t?a-1:a,a=s?a-1:a;break;default:console.log("Unknown row type")}return a}function Le(e,o,l){if(!e&&!o)return l}function Me(e){if(e){const l=Object.entries(e);for(var o=0;o<l.length;o++)if(l[o].some((e=>"object"==typeof e)))return console.log(l[o]),"split";return"flat"}return"unknown"}function We(e,o,l,t){switch(t){case"split":return e[o][l];case"flat":return e[l];default:switch(l){case"color":return"black";case"style":return"solid";case"width":return"1px"}}}(0,r.register)(je);const Fe=(0,_.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,_.jsx)(p.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),ze=(0,_.jsxs)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,_.jsx)(p.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,_.jsx)(p.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),Ve=(0,_.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,_.jsx)(p.Path,{d:"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z"})}),Ge=(0,_.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,_.jsx)(p.Path,{d:"M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z"})});function Ye(e){const{openColumnWidth:o,columnId:l,columnLabel:t,columnAttributes:n,enableProFeatures:s}=e;function a(e){o(!1)}(0,i.useEffect)((()=>{switch(n.columnWidthType){case"Proportional":u(!1),g(!0),p(!0);break;case"Auto":u(!0),g(!0),p(!0);break;case"Fixed":u(!0),g(!0),p(!1);break;case"Custom":u(!0),g(!1),p(!0)}c(n.columnWidthType),T(n.minWidth),f(n.minWidthUnits),E(n.maxWidth),C(n.maxWidthUnits),S(n.fixedWidth),y(n.fixedWidth),U(n.disableForPhone),A(n.disableForTablet)}),[n]);const[r,c]=(0,i.useState)(),[d,u]=(0,i.useState)(!0),[b,g]=(0,i.useState)(!0),[m,p]=(0,i.useState)(!0),[w,T]=(0,i.useState)(0),[x,f]=(0,i.useState)(),[v,E]=(0,i.useState)(1),[R,C]=(0,i.useState)(),[N,S]=(0,i.useState)(0),[I,y]=(0,i.useState)(),[B,A]=(0,i.useState)(!1),[j,U]=(0,i.useState)(!1);function H(e){console.log("...In MixWidth Update"),console.log(e),T(e.target.value)}function P(e){console.log("...In MixWidth Units Update"),console.log(e),f(e)}function k(e){console.log("...In Max Width Update"),console.log(e),E(e.target.value)}return console.log("In Component ConfigureColumnWidth"),console.log(e),console.log("RENDER PROPS"),console.log("...Disable Proportional Input = "+d),console.log("...Disable Fixed Input = "+m),console.log("...Disable Custom Input = "+b),(0,_.jsx)(_.Fragment,{children:o&&(0,_.jsxs)(h.Modal,{title:"Configure Column Width",onRequestClose:a,focusOnMount:"firstContentElement",isDismissible:"false",shouldCloseOnClickOutside:"false",size:"large",children:[(0,_.jsxs)("p",{className:"column-label",children:["For column ",t]}),(0,_.jsxs)("form",{onSubmit:function(e){console.log("COLUMN WIDTH UPDATED..."),console.log(e),console.log("...Max Width = "+v);var l={columnWidthType:r,minWidth:w,minWidthUnits:x,maxWidth:Number(v),maxWidthUnits:R,fixedWidth:N,fixedWidthUnits:I,disableForTablet:B,disableForPhone:j,isFixedLeftColumnGroup:!1,horizontalAlignment:"none"};console.log(l),o(!1,l)},onMouseDown:function(e){e.stopPropagation()},children:[(0,_.jsx)(h.SelectControl,{label:"Width Type",value:r,onChange:e=>function(e){switch(console.log("...In Width Type Update"),console.log(e),e){case"Proportional":E(1),C("fr"),T(20),f("ch"),S(0),y("px"),u(!1),g(!0),p(!0);break;case"Auto":E(0),C("fr"),T(0),f("ch"),S(0),y("px"),u(!0),g(!0),p(!0);break;case"Fixed":E(0),C("fr"),T(0),f("ch"),S(40),y("px"),u(!0),g(!0),p(!1);break;case"Custom":E(40),C("ch"),T(20),f("ch"),S(0),y("px"),u(!0),g(!1),p(!0)}c(e)}(e),options:[{value:"Proportional",label:"Proportional"},{value:"Auto",label:"Automatic"},{value:"Fixed",label:"Fixed width"},{value:"Custom",label:"Custom"}],__nextHasNoMarginBottom:!0}),(0,_.jsxs)("fieldset",{className:!0===d?" column-width--not-visible":"",children:[(0,_.jsx)("legend",{children:"Set Proportional Width"}),(0,_.jsx)(h.__experimentalNumberControl,{className:"column-width-value-input",label:"Number of portions",labelPosition:"side",onBlur:e=>k(e),value:v}),(0,_.jsxs)("span",{className:"column-width-span-input",children:[(0,_.jsx)(h.__experimentalNumberControl,{className:"column-width-value-input",label:"Minimum width",labelPosition:"left",value:w,onBlur:e=>H(e)}),(0,_.jsx)(h.SelectControl,{className:"column-width-unit-input",labelPosition:"left",label:"Units",value:x,onChange:e=>P(e),options:[{value:"px",label:"pixels"},{value:"ch",label:"characters"},{value:"pt",label:"points"},{value:"in",label:"inches"},{value:"fr",label:"proportional"}],__nextHasNoMarginBottom:!0})]})]}),(0,_.jsxs)("fieldset",{className:!0===m?"column-width--not-visible":"",children:[(0,_.jsx)("legend",{children:"Set Fixed Width"}),(0,_.jsxs)("span",{className:"column-width-span-input",children:[(0,_.jsx)(h.__experimentalNumberControl,{className:"column-width-input",label:"Fixed width",labelPosition:"left",value:N,onBlur:e=>{return o=e,console.log("...In Max Width Update"),console.log(o),void S(Number(o.target.value));var o}}),(0,_.jsx)(h.SelectControl,{className:"column-width-unit-input",label:"Units",labelPosition:"left",value:I,onChange:e=>{return o=e,console.log("...In Max Width Units Update"),console.log(o),void y(o);var o},options:[{value:"px",label:"pixels"},{value:"ch",label:"font"},{value:"pt",label:"points"},{value:"in",label:"inches"},{value:"fr",label:"proportional"}],__nextHasNoMarginBottom:!0})]})]}),(0,_.jsxs)("fieldset",{className:!0===b?"column-width--not-visible":"",children:[(0,_.jsx)("legend",{children:"Set Custom Width"}),(0,_.jsxs)("span",{className:"column-width-span-input",children:[(0,_.jsx)(h.__experimentalNumberControl,{className:"column-width-input",label:"Minimum width",labelPosition:"left",value:w,onBlur:e=>H(e)}),(0,_.jsx)(h.SelectControl,{className:"column-width-unit-input",labelPosition:"left",label:"Units",value:x,onChange:e=>P(e),options:[{value:"px",label:"pixels"},{value:"ch",label:"characters"},{value:"pt",label:"points"},{value:"in",label:"inches"},{value:"fr",label:"proportional"}],__nextHasNoMarginBottom:!0})]}),(0,_.jsxs)("span",{className:"column-width-span-input",children:[(0,_.jsx)(h.__experimentalNumberControl,{className:"column-width-input",label:"Maximum width",labelPosition:"left",value:v,onBlur:e=>k(e)}),(0,_.jsx)(h.SelectControl,{className:"column-width-unit-input",labelPosition:"left",label:"Units",value:R,onChange:e=>{return o=e,console.log("...In Max Width  Update"),console.log(o),void C(o);var o},options:[{value:"px",label:"pixels"},{value:"ch",label:"characters"},{value:"pt",label:"points"},{value:"in",label:"inches"},{value:"fr",label:"proportional"}],__nextHasNoMarginBottom:!0})]})]}),s&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.CheckboxControl,{label:"Hide for tablet",checked:B,onChange:function(e){console.log("...In Tablet Update"),console.log(e),A(e)}}),(0,_.jsx)(h.CheckboxControl,{label:"Hide for phone",checked:j,onChange:function(e){console.log("...In Phone Update"),console.log(e),U(e)}})]}),(0,_.jsxs)("span",{children:[(0,_.jsx)(h.Button,{variant:"secondary",onClick:a,children:"Cancel"}),(0,_.jsx)(h.Button,{variant:"primary",type:"submit",children:"Update"})]})]})]})})}function Je(e){const[o,l]=(0,i.useState)(!1),[t,n]=(0,i.useState)({}),{tableId:s,columnId:a,columnLabel:r,enableProFeatures:c,updatedColumn:d}=e;function u(e,t){console.log("    ...onUpdateColumn Width"),console.log(e),console.log(t),o?(l(!1),d(e,"attributes",s,a,t)):(e.preventDefault(),l(!0))}return(0,i.useEffect)((()=>{n(e.columnAttributes)}),[e.columnAttributes]),console.log("In Component ColumnMenu"),console.log(e),console.log("Open column width page = "+o),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.DropdownMenu,{icon:Fe,defaultOpen:"true",label:r,children:({onClose:e})=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.MenuGroup,{children:(0,_.jsx)(h.MenuItem,{icon:ze,onClick:u,children:"Update Column Width"})}),(0,_.jsxs)(h.MenuGroup,{children:[(0,_.jsx)(h.MenuItem,{icon:Ve,onClick:e=>function(e,o){console.log("    ...onInsertColumn"),console.log(e),console.log("columnId = "+o),d(e,"insert",s,o,"")}(e,a),children:"Insert Column"}),(0,_.jsx)(h.MenuItem,{icon:Ge,onClick:e=>function(e,o){console.log("    ...onInsertColumn"),console.log(e),console.log("columnId = "+o),d(e,"delete",s,o,"")}(e,a),children:"Delete Column"})]})]})}),o&&(0,_.jsx)(Ye,{columnId:a,columnLabel:r,columnAttributes:t,enableProFeatures:c,openColumnWidth:u})]})}const qe=(0,_.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,_.jsx)(p.Path,{d:"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84zM6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z"})}),Xe=(0,_.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,_.jsx)(p.Path,{d:"M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z"})});function Ke(e){const{openRowHeight:o,rowId:l,rowLabel:t,rowAttributes:n}=e;function s(e){o(!1)}(0,i.useEffect)((()=>{switch(n.rowHeightType){case"Auto":d(!0),b(!0);break;case"Fixed":d(!0),b(!1);break;case"Custom":d(!1),b(!0)}r(n.rowHeightType),m(n.minHeight),w(n.minHeightUnits),x(n.maxHeight),v(n.maxHeightUnits),R(n.fixedHeight),N(n.fixedHeightUnits)}),[n]);const[a,r]=(0,i.useState)(),[c,d]=(0,i.useState)(!0),[u,b]=(0,i.useState)(!0),[g,m]=(0,i.useState)(0),[p,w]=(0,i.useState)(),[T,x]=(0,i.useState)(1),[f,v]=(0,i.useState)(),[E,R]=(0,i.useState)(0),[C,N]=(0,i.useState)();return console.log("In Component ConfigureRowHeight"),console.log(e),console.log("RENDER PROPS"),console.log("...Disable Fixed Input = "+u),console.log("...Disable Custom Input = "+c),(0,_.jsx)(_.Fragment,{children:o&&(0,_.jsxs)(h.Modal,{title:"Configure Row Height",onRequestClose:s,focusOnMount:"firstContentElement",isDismissible:"false",shouldCloseOnClickOutside:"false",size:"large",children:[(0,_.jsxs)("p",{className:"row-label",children:["For row ",t]}),(0,_.jsxs)("form",{onSubmit:function(e){console.log("ROW HEIGHT  UPDATED..."),console.log(e),console.log("...Max Height = "+T);var l={rowHeightType:a,minHeight:g,minHeightUnits:p,maxHeight:Number(T),maxHeightUnits:f,fixedHeight:E,fixedHeightUnits:C,isFixedLeftRowGroup:!1,horizontalAlignment:"none"};console.log(l),o(!1,l)},onMouseDown:function(e){e.stopPropagation()},children:[(0,_.jsx)(h.SelectControl,{label:"Height Type",value:a,onChange:e=>function(e){switch(console.log("...In Height Type Update"),console.log(e),e){case"Auto":x(0),v("fr"),m(0),w("ch"),R(0),N("px"),d(!0),b(!0);break;case"Fixed":x(0),v("fr"),m(0),w("ch"),R(40),N("px"),d(!0),b(!1);break;case"Custom":x(40),v("ch"),m(20),w("ch"),R(0),N("px"),d(!1),b(!0)}r(e)}(e),options:[{value:"Auto",label:"Automatic"},{value:"Fixed",label:"Fixed height"},{value:"Custom",label:"Custom"}],__nextHasNoMarginBottom:!0}),(0,_.jsxs)("fieldset",{className:!0===u?"row-height--not-visible":"",children:[(0,_.jsx)("legend",{children:"Set Fixed Height"}),(0,_.jsxs)("span",{className:"row-height-span-input",children:[(0,_.jsx)(h.__experimentalNumberControl,{className:"row-height-input",label:"Fixed height",labelPosition:"left",value:E,onBlur:e=>{return o=e,console.log("...In Max Height Update"),console.log(o),void R(Number(o.target.value));var o}}),(0,_.jsx)(h.SelectControl,{className:"row-height-unit-input",label:"Units",labelPosition:"left",value:C,onChange:e=>{return o=e,console.log("...In Max Height Units Update"),console.log(o),void N(o);var o},options:[{value:"px",label:"pixels"},{value:"ch",label:"font"},{value:"pt",label:"points"},{value:"in",label:"inches"},{value:"fr",label:"proportional"}],__nextHasNoMarginBottom:!0})]})]}),(0,_.jsxs)("fieldset",{className:!0===c?"row-height--not-visible":"",children:[(0,_.jsx)("legend",{children:"Set Custom Height"}),(0,_.jsxs)("span",{className:"row-height-span-input",children:[(0,_.jsx)(h.__experimentalNumberControl,{className:"row-height-input",label:"Minimum height",labelPosition:"left",value:g,onBlur:e=>{return o=e,console.log("...In MixHeight Update"),console.log(o),void m(o.target.value);var o}}),(0,_.jsx)(h.SelectControl,{className:"row-height-unit-input",labelPosition:"left",label:"Units",value:p,onChange:e=>{return o=e,console.log("...In MixHeight Units Update"),console.log(o),void w(o);var o},options:[{value:"px",label:"pixels"},{value:"ch",label:"characters"},{value:"pt",label:"points"},{value:"in",label:"inches"},{value:"fr",label:"proportional"}],__nextHasNoMarginBottom:!0})]}),(0,_.jsxs)("span",{className:"row-height-span-input",children:[(0,_.jsx)(h.__experimentalNumberControl,{className:"row-height-input",label:"Maximum height",labelPosition:"left",value:T,onBlur:e=>{return o=e,console.log("...In Max Height Update"),console.log(o),void x(o.target.value);var o}}),(0,_.jsx)(h.SelectControl,{className:"row-height-unit-input",labelPosition:"left",label:"Units",value:f,onChange:e=>{return o=e,console.log("...In Max Height Update"),console.log(o),void v(o);var o},options:[{value:"px",label:"pixels"},{value:"ch",label:"characters"},{value:"pt",label:"points"},{value:"in",label:"inches"},{value:"fr",label:"proportional"}],__nextHasNoMarginBottom:!0})]})]}),(0,_.jsxs)("span",{children:[(0,_.jsx)(h.Button,{variant:"secondary",onClick:s,children:"Cancel"}),(0,_.jsx)(h.Button,{variant:"primary",type:"submit",children:"Update"})]})]})]})})}function Qe(e){const[o,l]=(0,i.useState)(!1),[t,n]=(0,i.useState)({}),{tableId:s,rowId:a,rowLabel:r,updatedRow:c}=e;function d(e,t){console.log("    ...onUpdateRowHeight"),console.log(e),console.log(t),o?(l(!1),c(e,"attributes",s,a,t)):(e.preventDefault(),l(!0))}return(0,i.useEffect)((()=>{n(e.rowAttributes)}),[e.rowAttributes]),console.log("In Component RowMenu"),console.log(e),console.log("Open row height page = "+o),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.DropdownMenu,{icon:Fe,defaultOpen:"true",label:r,children:({onClose:e})=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.MenuGroup,{children:(0,_.jsx)(h.MenuItem,{icon:ze,onClick:d,children:"Update Row Height"})}),(0,_.jsxs)(h.MenuGroup,{children:[(0,_.jsx)(h.MenuItem,{icon:qe,onClick:e=>function(e,o){console.log("    ...onInsertRow"),console.log(e),console.log("rowId = "+o),c(e,"insert",s,o,"")}(e,a),children:"Insert Row"}),(0,_.jsx)(h.MenuItem,{icon:Xe,onClick:e=>function(e,o){console.log("    ...onDeleteRow"),console.log(e),console.log("rowId = "+o),c(e,"delete",s,o,"")}(e,a),children:"Delete Row"})]})]})}),o&&(0,_.jsx)(Ke,{rowId:a,rowLabel:r,rowAttributes:t,openRowHeight:d})]})}(0,r.dispatch)("core").addEntities([{name:"table",kind:"dynamic-tables",baseURL:"/dynamic-tables/v1/tables",baseURLParams:{context:"edit"},plural:"tables",label:(0,g.__)("Table"),getTitle:e=>e?.title||(0,g.__)("Unnamed Table")}]);const Ze=JSON.parse('{"UU":"dynamic-tables/dynamic-tables"}');console.log(Ze.UU),(0,a.registerBlockType)(Ze.UU,{apiVersion:3,edit:function(e){const o=(0,m.useBlockProps)({className:"dynamic-table-edit-block"});console.log(e),console.log(gls_test_data);const{lockPostSaving:l}=(0,r.useDispatch)(c.store),{lockPostAutosaving:t}=(0,r.useDispatch)(c.store),{receiveNewTable:n}=(0,r.useDispatch)(je),{createTableEntity:s}=(0,r.useDispatch)(je),{saveTableEntity:a}=(0,r.useDispatch)(je),{deleteTableEntity:u}=(0,r.useDispatch)(je),{addColumn:p}=(0,r.useDispatch)(je),{addRow:T}=(0,r.useDispatch)(je),{removeColumn:f}=(0,r.useDispatch)(je),{removeRow:C}=(0,r.useDispatch)(je),{updateTableProp:N}=(0,r.useDispatch)(je),{removeTableProp:S}=(0,r.useDispatch)(je),{updateRow:I}=(0,r.useDispatch)(je),{updateColumn:y}=(0,r.useDispatch)(je),{updateCell:B}=(0,r.useDispatch)(je),{updateTableEntity:A}=(0,r.useDispatch)(je),{updateTableBorder:j}=(0,r.useDispatch)(je),{processUnmountedTables:U}=(0,r.useDispatch)(je),{processDeletedTables:H}=(0,r.useDispatch)(je),{createNotice:P,removeNotice:k}=(0,r.useDispatch)(d.store),[D,O]=(0,i.useState)(!0),[L,M]=(0,i.useState)(0),[W,F]=(0,i.useState)({}),[z,V]=(0,i.useState)({}),[G,Y]=(0,i.useState)(!1),[J,q]=(0,i.useState)(!1),[X,K]=(0,i.useState)(0),[Q,Z]=(0,i.useState)({}),[$,ee]=(0,i.useState)(0),[oe,le]=(0,i.useState)(!1),[te,ne]=(0,i.useState)(""),[se,ae]=(0,i.useState)(1),[re,ie]=(0,i.useState)(1),[ce,de]=(0,i.useState)([]),[ue,be]=(0,i.useState)(!1),ge=!1,{table_id:he,block_table_ref:me,block_alignment:pe}=((0,i.useRef)({}),e.attributes),_e=(0,m.useSettings)("color.palette"),we=_e[0].map((({color:e,name:o})=>({color:e,name:o})));console.log("Block Table Ref - "+me);const{currentTableId:Te}=(0,r.useSelect)((e=>{const{getTableIdByBlock:o}=e(je);let l=o(me);return console.log("Current table id = "+l),{currentTableId:l}}));console.log("NEW TABLE INFO"),console.log("Awaiting entity creation = "+ue+", Props table id = "+he+", Current table id = "+Te);const xe=ue&&Number(Te)!==Number(he)?(console.log("  ... In table changed - TRUE"),!0):(console.log("  ... In table changed - FALSE"),!1);console.log("Table id after select = "+Te),console.log("Table id update: "+xe);const{unmountedTables:fe}=(0,r.useSelect)((e=>{const{getUnmountedTables:o}=e(je);return{unmountedTables:o()}}));Object.keys(fe).length>0&&U(fe);const{deletedTables:ve}=(0,r.useSelect)((e=>{const{getDeletedTables:o}=e(je);return{deletedTables:o()}})),Ee=(()=>{console.log("In After Save Hook");const[e,o]=(0,i.useState)(!1),{hasUnsavedChanges:l}=(0,r.useSelect)((e=>({hasUnsavedChanges:e("core/editor").isEditedPostDirty()}))),t=(0,b.usePrevious)(l);return(0,i.useEffect)((()=>{!l&&t&&o(!0),l&&o(!1)}),[l,t]),e})();(0,i.useEffect)((()=>{Ee&&(alert("Sync REST Now"),Object.keys(ve).length>0&&(console.log(ve),H(ve)),"new"==Ne.table_status&&(console.log("Saving new table - "+Ne.table_id),ao(Ne.table_id,"table_status","","PROP","saved"),a(Ne.table_id),console.log(Ne)))}),[Ee,fe]);const Re=""===me,Ce=""===me?"None":"0"===he?"New":D?"Stale":"Saved";Re&&(l("lockPostSaving"),t("lockPostAutosaving"));const{table:Ne,tableStatus:Se,tableHasStartedResolving:Ie,tableHasFinishedResolving:ye,tableIsResolving:Be}=(0,r.useSelect)((o=>{console.log("Table ID = "+he+", Stale = "+D+", Block Table Ref = "+me);const{getTable:n,getTableIdByBlock:s,hasStartedResolution:a,hasFinishedResolution:r,isResolving:i}=o(je),c=[he,D];if(""===me)return{table:{},tableStatus:"",tableHasStartedResolving:!1,tableHasFinishedResolving:!1,tableIsResolving:!1};const d=((o,a,r)=>{let i=n(o,a);if(console.log(i),"0"===o&&""===i.block_table_ref&&ue){const o=s(r);i=n(o,a),String(e.context.postId)!==i.post_id&&"0"!==String(e.context.postId)&&ao(i.table_id,"post_id","","PROP",String(e.context.postId)),be(!1),l("unlockPostSaving"),t("unlockPostAutosaving"),e.setAttributes({table_id:Number(i.table_id)})}return i})(he,D,me),u=a("getTable",c),b=r("getTable",c),g=i("getTable",c);return b&&O((()=>!1)),{table:d,tableStatus:d.table_status,tableHasStartedResolving:u,tableHasFinishedResolving:b,tableIsResolving:g}}),[he,xe,D,me]);function Ae(e,o){let l=e?.[o];return l}const Fe=Ae(Ne.attributes,"showGridLines"),ze=Ae(Ne.attributes,"allowHorizontalScroll"),Ve=Ae(Ne.attributes,"enableHeaderRow"),Ge=Ae(Ne.attributes,"headerAlignment"),Ye=(Ae(Ne.attributes,"tableHeaderBackgroundColor"),Ae(Ne.attributes,"headerRowSticky")),qe=Ae(Ne.attributes,"headerBorder"),Xe=Ae(Ne.attributes,"bodyAlignment"),Ke=Ae(Ne.attributes,"bodyBorder"),Ze=Ae(Ne.attributes,"bandedRows"),$e=Ae(Ne.attributes,"bandedRowTextColor"),eo=Ae(Ne.attributes,"bandedRowBackgroundColor"),oo=Ae(Ne.attributes,"gridLineWidth"),lo=pe,to=(Ae(Ne.attributes,"horizontalAlignment"),Ae(Ne.attributes,"verticalAlignment"),Ae(Ne.attributes,"hideTitle"));console.log(JSON.stringify(qe,null,4)),console.log("Is Resolving? = "+Be),console.log("Started Resolving? = "+Ie),console.log("Finished Resolving? = "+ye),console.log("Old Post ID = "+Ne.post_id),console.log("New Post ID = "+e.context.postId),Ie&&ye&&!ue&&String(e.context.postId)!==Ne.post_id&&(ao(Ne.table_id,"post_id","","PROP",String(e.context.postId)),a(Ne.table_id)),(0,i.useEffect)((()=>()=>{ao(Ne.table_id,"unmounted_blockid","","PROP",o["data-block"],!1)}),[]);const no="{}"===JSON.stringify(Ne.table)||"None"==Ce?0:Ne.columns.length,so="{}"===JSON.stringify(Ne.table)||"None"==Ce?0:Ne.rows.length;function ao(e,o,l,t,n,s=!0){switch(console.log("Table Attribute Change: attribute - "+o+", id - "+l+", type - "+t+", value - "+n),t){case"CONTENT":"cell"===o&&B(e,l,"content",n);break;case"ATTRIBUTES":"cell"===o?(console.log("...Updating Cell"),B(e,l,"attributes",n)):"row"===o?(console.log("...Updating Row"),console.log(n),Z(n),I(e,l,"attributes",n)):"column"===o?(console.log("...Updating Column"),console.log(n),V(n),y(e,l,"attributes",n)):"table"===o&&(console.log("...Updating Table Attributes"),console.log(n),N(e,"attributes",n));break;case"CLASSES":"cell"===o?B(e,l,"classes",n):"column"===o&&y(e,l,"classes",n);break;case"PROP":N(e,o,n),"unmounted_blockid"===o&&A(e,"unknown");break;default:console.log("Unrecognized Attibute Type")}if(console.log("Update coreStore"),O(!1),s)return A(e)}function ro(o,l,t){console.log("FUNCTION - CREATE TABLE"),console.log("InitialRows - "+l),console.log("InitialColumns - "+o),O(!1);var a=Date.now().toString(16);const r=function(e,o,l,t){console.log("FUNCTION - CREATE TABLE"),console.log("InitialRows - "+l),console.log("InitialColumns - "+o);var n=function(e,o){console.log(o);for(var l=[],t=1,n=1;n<=o;){for(;t<=e;){if(x(t),1==n){let e=Pe("0",String(t),String(n));l.push(e)}else{let e=Pe("0",String(t),String(n));l.push(e)}t++}t=1,n++}return l}(Number(o),Number(l)),s=[];for(let e=1;e<=l;e++){console.log("Row loop - "+e);let o=Ue("0",e);s.push(o)}var a=[];for(let e=1;e<=o;e++){console.log("Column loop - "+e);let o=He("0",e);a.push(o)}return{table:{table_id:"0",block_table_ref:e,post_id:"0",table_status:"new",table_name:t,attributes:ke("table"),classes:De("table"),rows:s,columns:a,cells:n}}}(a,o,l,t);console.log(JSON.stringify(r,null,4)),e.setAttributes({block_table_ref:a}),n(r),be(!0),s()}function io(e,o,l,t,n){switch(console.log("    ...onUpdateColumn"),console.log(e),console.log(n),o){case"attributes":ao(l,"column",t,"ATTRIBUTES",n);break;case"insert":M(0),Y(!1),function(e,o){const l=He(e,o);var t=[];for(let l=0;l<re;l++)if(0===l){let n=Pe(e,o,l,"Border");t.push(n)}else{let n=Pe(e,o,l);t.push(n)}console.log("ADDING COLUMN"),console.log("ColumnId = "+o),console.log(l),console.log(t),p(e,o,l,t),console.log("Update coreStore"),O(!1),A(e)}(l,t);break;case"delete":M(0),Y(!1),function(e,o){console.log("Deleting Column - "+o),f(e,o),console.log("Update coreStore"),O(!1),A(e)}(l,t);break;default:console.log("Unrecognized Column Update Type")}console.log("Show Borders = "+oe)}function co(e,o,l,t,n){switch(console.log("    ...onUpdateRow"),console.log(e),console.log(n),o){case"attributes":ao(l,"row",t,"ATTRIBUTES",n);break;case"insert":M(0),q(!1),function(e,o){const l=Ue(e,o);var t=[];for(let l=0;l<se;l++)if(0===l){let n=Pe(e,l,o,"Border");t.push(n)}else{let n=Pe(e,l,o);t.push(n)}console.log("ADDING ROW"),console.log("RowId = "+o),console.log(l),console.log(t),T(e,o,l,t),console.log("Update coreStore"),O(!1),A(e)}(l,t);break;case"delete":M(0),q(!1),function(e,o){console.log("Deleting Row - "+o),C(e,o),console.log("Update coreStore"),O(!1),A(e)}(l,t);break;default:console.log("Unrecognized Row Update Type")}console.log("Show Borders = "+oe)}function uo(e,o,l,t){if(console.log("MOUSE CLICKED IN BORDER"),console.log("Column = "+e),console.log("Row = "+o),console.log(l),console.log(t),"0"===o&&"0"!==e){console.log("Opening Column "+e);let o=e;const t=l.columns.find((({column_id:e})=>e===o));console.log(t),V(t.attributes),Y(!0),M(e)}if("0"!==o&&"0"===e){console.log("Opening Row "+o);let e=o;const t=l.rows.find((({row_id:o})=>o===e));console.log(t),Z(t.attributes),q(!0),M(o)}O(!1)}function bo(e,o,l){let t="";"background"==o&&(t={...e.attributes,bandedRowBackgroundColor:l},console.log(t),ao(e.table_id,"table","","ATTRIBUTES",t)),"text"==o&&(t={...e.attributes,bandedRowTextColor:l},console.log(t),ao(e.table_id,"table","","ATTRIBUTES",t))}(0,i.useEffect)((()=>{Re||(no!=se&&ae(no),so!=re&&ie(so))}),[no,so]),console.log("Table ID from Block - "+he),console.log("Block Table Ref from Block - "+me);const go=function(e,o,l,t){if(e||o)return;let n="";return t.map((({column_id:e,column_name:o,attributes:l,classes:t})=>{console.log("Column ID - "+n),console.log(l);const{columnWidthType:s,minWidth:a,minWidthUnits:r,maxWidth:i,maxWidthUnits:c,fixedWidth:d,fixedWidthUnits:u,disableForTablet:b,disableForPhone:g}=l;let h="";switch(s){case"Proportional":h=a>0?"minmax("+a+r+", "+i+"fr) ":i+"fr ",n+=h;break;case"Auto":n+="auto ";break;case"Fixed":n=n+d+u+" ";break;case"Custom":h="minmax("+a+r+", "+i+c+") ",n+=h;break;default:console.log("Unrecognized Attibute Type")}})),console.log("grid-template-columns = "+n),n}(Re,Be,0,Ne.columns),ho=function(e,o,l){if(e||o)return;let t="";return l.map((({row_id:e,attributes:o,classes:l})=>{console.log("Row ID - "+t),console.log(o);const{rowHeightType:n,minHeight:s,minHeightUnits:a,maxHeight:r,maxHeightUnits:i,fixedHeight:c,fixedHeightUnits:d,isHeader:u}=o;let b="";if(u)switch(n){case"Auto":t+="auto ";break;case"Fixed":t=t+c+d+" ";break;case"Custom":b="minmax("+s+a+", "+r+i+") ",t+=b;break;default:console.log("Unrecognized Attibute Type")}})),t}(Re,Be,Ne.rows),mo=function(e,o,l){if(e||o)return;let t="";return l.map((({row_id:e,attributes:o,classes:l})=>{console.log("Row ID - "+t),console.log(o);const{rowHeightType:n,minHeight:s,minHeightUnits:a,maxHeight:r,maxHeightUnits:i,fixedHeight:c,fixedHeightUnits:d,isHeader:u}=o;let b="";if(!u)switch(n){case"Auto":t+="auto ";break;case"Fixed":t=t+c+d+" ";break;case"Custom":b="minmax("+s+a+", "+r+i+") ",t+=b;break;default:console.log("Unrecognized Attibute Type")}})),t}(Re,Be,Ne.rows),po=oe?2:1,_o=Oe(1,"Header",re,Ve,oe,!1),wo=function(e,o){let l=1;return l=e?l+1:l,l=o?l+1:l,l}(Ve,oe),To=Oe(wo,"Body",re,Ve,oe,!1),xo=ze?"auto":"hidden",fo=function(e,o,l){if(!e&&!o)return l}(Re,Be,$e),vo=function(e,o,l){if(!e&&!o)return l}(Re,Be,eo),Eo=function(e,o,l){if(!e&&!o)return console.log("show grid lines = "+l),l?"solid":"hidden"}(Re,Be,Fe),Ro=function(e,o,l,t){if(!e&&!o)return l?String(t)+"px":"0px"}(Re,Be,Fe,oo),Co=Ye?"auto":"hidden",No=Ye?"grid-control__header--sticky ":"",So=(o.style.backgroundColor,Le(Re,Be,Ge)),Io=Me(qe),yo=We(qe,"top","color",Io),Bo=We(qe,"top","style",Io),Ao=We(qe,"top","width",Io),jo=We(qe,"right","color",Io),Uo=We(qe,"right","style",Io),Ho=We(qe,"right","width",Io),Po=We(qe,"bottom","color",Io),ko=We(qe,"bottom","style",Io),Do=We(qe,"bottom","width",Io),Oo=We(qe,"left","color",Io),Lo=We(qe,"left","style",Io),Mo=We(qe,"left","width",Io),Wo=Le(Re,Be,Xe),Fo=Me(Ke),zo=We(Ke,"top","color",Fo),Vo=We(Ke,"top","style",Fo),Go=We(Ke,"top","width",Fo),Yo=We(Ke,"right","color",Fo),Jo=We(Ke,"right","style",Fo),qo=We(Ke,"right","width",Fo),Xo=We(Ke,"bottom","color",Fo),Ko=We(Ke,"bottom","style",Fo),Qo=We(Ke,"bottom","width",Fo),Zo=We(Ke,"left","color",Fo),$o=We(Ke,"left","style",Fo),el=We(Ke,"left","width",Fo);return console.log("Grid Column Style = "+go),console.log("Banded Grid Text Color = "+fo),console.log("Banded Grid Background Color = "+vo),console.log("MATCH VALUE FOR TABLE:"),console.log(Ne),console.log(JSON.stringify(Ne)),console.log("Is Block New - "+Re),console.log("Block Table Status - "+Ce),console.log("Is Table Resolving - "+Be),console.log("gridColumnStyle = "+go),console.log("gridRowHeaderStyle = "+ho),console.log("gridRowBodyStyle = "+mo),console.log(o),console.log(o.style.backgroundColor),(0,_.jsxs)("div",{...o,children:[!Re&&!Be&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.BlockControls,{children:(0,_.jsx)(m.BlockAlignmentToolbar,{value:pe,onChange:o=>e.setAttributes({block_alignment:o})})}),(0,_.jsx)(m.InspectorControls,{children:(0,_.jsxs)(h.Panel,{children:[(0,_.jsxs)(h.PanelBody,{title:"Definition",initialOpen:!0,children:[(0,_.jsx)(h.PanelRow,{children:(0,_.jsxs)("div",{className:"grid-control__inspector-controls--read-only",children:[(0,_.jsx)("span",{className:"grid-control__inspector-controls--read-only-label",children:"Table Name:"}),(ol=Ne.table_name,null!==ol&&""!==ol&&(ol=ol.toString()).replace(/(<([^>]+)>)/gi,""))]})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsxs)("div",{className:"grid-control__inspector-controls--read-only",children:[(0,_.jsx)("span",{className:"grid-control__inspector-controls--read-only-label",children:"Table Columns/Rows:"}),se,"/",re]})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.CheckboxControl,{label:"Show table borders",__nextHasNoMarginBottom:!0,checked:oe,onChange:e=>function(e,o){if(console.log("TOGGLING BORDER"),console.log(e),console.log("Number Columns before update = "+se),!1===o){ae(se-1),ie(re-1);var l=e.rows.filter((e=>"0"!==e.row_id)),t=e.columns.filter((e=>"0"!==e.column_id)),n=e.cells.filter((e=>"0"!==e.row_id&&"0"!==e.column_id));console.log(n),j(e.table_id,l,t,n)}else{ae(se+1),ie(re+1);var s=[];s.push(Ue(he,0,"Border"));var a=[];for(let e=0;e<=se;e++){let o=Pe(he,e,0,"Border");console.log(o),a.push(o)}var r=[];r.push(He(he,0,"Border"));var i=[];for(let e=1;e<=re;e++){let o=Pe(he,0,e,"Border");i.push(o)}l=v("rows",[...e.rows,...s]),t=v("columns",[...e.columns,...r]),n=v("cells",[...e.cells,...a,...i]),j(e.table_id,l,t,n)}le(o),O(!1)}(Ne,e)})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.CheckboxControl,{label:"Hide Table Title",__nextHasNoMarginBottom:!0,checked:to,onChange:e=>function(e,o){const l={...e.attributes,hideTitle:o};ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})})]}),(0,_.jsxs)(h.PanelBody,{title:"Table Header",initialOpen:!1,children:[(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.CheckboxControl,{label:"First Row as Header?",__nextHasNoMarginBottom:!0,checked:Ve,onChange:e=>function(e,o){const l={...e.attributes,enableHeaderRow:o,headerRowSticky:!1};console.log(l),ao(e.table_id,"table","","ATTRIBUTES",l);const t={...e.rows.find((e=>"1"===e.row_id)).attributes,isHeader:!!o};console.log(t),ao(e.table_id,"row","1","ATTRIBUTES",t)}(Ne,e)})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.CheckboxControl,{label:"Freeze Header Row?",__nextHasNoMarginBottom:!0,disabled:!Ve,checked:Ye,onChange:e=>function(e,o){const l={...e.attributes,headerRowSticky:o};ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsxs)("span",{className:"inspector-controls-menu__header-alignment--middle",children:[(0,_.jsx)(m.AlignmentControl,{id:"header-alignment",value:Ge,onChange:e=>function(e,o){console.log("ON HEADER ALIGNMENT"),console.log(o);const l={...e.attributes,headerAlignment:o};console.log(l),ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)}),(0,_.jsx)("label",{className:"inspector-controls-nemu__label--left-margin",for:"header-alignment",children:"Text Alignment"})]})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.BorderBoxControl,{className:"border-box-workaround",__next40pxDefaultSize:!0,__experimentalIsRenderedInSidebar:!0,label:"Borders",isCompact:"true",colors:we,value:qe,onChange:e=>function(e,o){console.log("ON HEADER BORDER"),console.log(o);const l={...e.attributes,headerBorder:o};console.log(l),ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})})]}),(0,_.jsxs)(h.PanelBody,{title:"Table Body",initialOpen:!1,children:[(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.CheckboxControl,{label:"Allow Horizontal Acroll?",__nextHasNoMarginBottom:!0,checked:ze,onChange:e=>function(e,o){const l={...e.attributes,allowHorizontalScroll:o};ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsxs)("span",{className:"inspector-controls-menu__header-alignment--middle",children:[(0,_.jsx)(m.AlignmentControl,{id:"body-alignment",value:Xe,onChange:e=>function(e,o){console.log("ON BODY  ALIGNMENT"),console.log(o);const l={...e.attributes,bodyAlignment:o};console.log(l),ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)}),(0,_.jsx)("label",{className:"inspector-controls-menu__label--left-margin",for:"body-alignment",children:"Text Alignment"})]})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.BorderBoxControl,{className:"border-box-workaround",label:"Borders",hideLabelFromVision:"false",isCompact:"true",colors:we,value:Ke,onChange:e=>function(e,o){console.log("ON BODY BORDER"),console.log(o);const l={...e.attributes,bodyBorder:o};console.log(l),ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})})]})]})}),(0,_.jsxs)(m.InspectorControls,{group:"styles",children:[(0,_.jsxs)(h.PanelBody,{title:"Banded Table Rows",initialOpen:!1,children:[(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.CheckboxControl,{label:"Display Banded Rows",__nextHasNoMarginBottom:!0,checked:Ze,onChange:e=>function(e,o){const l={...e.attributes,bandedRows:o};ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})}),(0,_.jsx)(m.PanelColorSettings,{__experimentalIsRenderedInSidebar:!0,title:"Banded Row Color",colors:_e,colorSettings:[{value:$e,onChange:e=>bo(Ne,"text",e),label:"Text"},{value:eo,onChange:e=>bo(Ne,"background",e),label:"Background"}]})]}),(0,_.jsxs)(h.PanelBody,{title:"Grid Lines",initialOpen:!1,children:[(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.CheckboxControl,{label:"Display Inner Grid Lines",__nextHasNoMarginBottom:!0,checked:Fe,onChange:e=>function(e,o){const l={...e.attributes,showGridLines:o};ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})}),(0,_.jsx)(h.PanelRow,{children:(0,_.jsx)(h.__experimentalNumberControl,{label:"Inner Grid Line Width",value:oo,labelPosition:"side",onChange:e=>function(e,o){const l={...e.attributes,gridLineWidth:Number(o)};ao(e.table_id,"table","","ATTRIBUTES",l)}(Ne,e)})})]})]}),(0,_.jsx)(m.InspectorControls,{group:"typography"}),(0,_.jsxs)("div",{style:{display:"block"},children:[!to&&(0,_.jsx)(m.RichText,{id:"tableTitle",style:{"--gridAlignment":lo},tagName:"p",allowedFormats:["core/bold","core/italic"],onChange:e=>ao(he,"table_name","","PROP",e),value:Ne.table_name}),(0,_.jsx)(h.TabbableContainer,{children:(0,_.jsx)("div",{className:"grid-scroller",style:{"--headerRowSticky":Co},children:(0,_.jsxs)("div",{className:"grid-control "+No,style:{"--gridTemplateColumns":go,"--horizontalScroll":xo,"--headerRowSticky":Co,"--gridNumColumns":se,"--gridNumRows":re,"--gridAlignment":lo},children:[oe&&(0,_.jsx)("div",{className:"grid-control__border",children:Ne.cells.filter((e=>e.attributes.border&&"0"===e.row_id)).map((({table_id:e,row_id:o,column_id:l,cell_id:t,content:n,attributes:s,classes:a})=>{console.log("Rendering Body Row Cell"+t);const r=E(o,l,n),i=function(e,o,l){return!(!e||o!==l)}(G,L,l),c="1"===l;return(0,_.jsxs)(_.Fragment,{children:[c&&ge,(0,_.jsxs)("div",{id:t,onMouseDown:e=>uo(l,o,Ne,e),className:a,children:[r,i&&(0,_.jsx)(Je,{tableId:e,columnId:l,columnLabel:r,columnAttributes:z,enableProFeatures:!1,updatedColumn:io})]})]})}))}),Ne.rows.filter((e=>!0===e.attributes.isHeader)).map((({row_id:e,attributes:o})=>{const l=e;return(0,_.jsx)("div",{className:"grid-control__header",style:{"--gridTemplateHeaderRows":ho,"--startGridHeaderRowNbr":po,"--endGridHeaderRowNbr":_o,"--headerBorderTopColor":yo,"--headerBorderTopStype":Bo,"--headerBorderTopWidth":Ao,"--headerBorderRightColor":jo,"--headerBorderRightStype":Uo,"--headerBorderRightWidth":Ho,"--headerBorderBottomColor":Po,"--headerBorderBottomStype":ko,"--headerBorderBottomWidth":Do,"--headerBorderLeftColor":Oo,"--headerBorderLeftStype":Lo,"--headerBorderLeftWidth":Mo,"--headerTextAlignment":So},children:Ne.cells.filter((e=>e.row_id===l)).map((({table_id:e,row_id:o,column_id:l,cell_id:t,content:n,attributes:s,classes:a})=>{const r="1"===l,i=s.border,c=E(o,l,n),d=R(J,L,o);let u=Eo,b=Ro;return(0,_.jsxs)(_.Fragment,{children:[r&&i&&ge,i&&(0,_.jsxs)("div",{id:t,onMouseDown:e=>uo(l,o,Ne,e),className:a,children:[c,d&&(0,_.jsx)(Qe,{tableId:e,rowId:o,rowLabel:c,rowAttributes:Q,updatedRow:co})]}),r&&ge,!i&&(0,_.jsx)(m.RichText,{id:t,className:"grid-control__header-cells",style:{"--showGridLines":u,"--gridLineWidth":b},tabIndex:"0",tagName:"div",onChange:o=>ao(e,"cell",t,"CONTENT",o),value:n})]})}))})})),(0,_.jsx)("div",{className:"grid-control__body",style:{"--gridTemplateBodyRows":mo,"--startGridBodyRowNbr":wo,"--endGridBodyRowNbr":To,"--bodyBorderTopColor":zo,"--bodyBorderTopStype":Vo,"--bodyBorderTopWidth":Go,"--bodyBorderRightColor":Yo,"--bodyBorderRightStype":Jo,"--bodyBorderRightWidth":qo,"--bodyBorderBottomColor":Xo,"--bodyBorderBottomStype":Ko,"--bodyBorderBottomWidth":Qo,"--bodyBorderLeftColor":Zo,"--bodyBorderLeftStype":$o,"--bodyBorderLeftWidth":el,"--bodyTextAlignment":Wo},children:Ne.rows.filter((e=>!0!==e.attributes.isHeader&&"0"!==e.row_id)).map((({row_id:e,attributes:o})=>{const l=e;let t="";const n=Ve?1:0;return Ze&&0==n&&Number(e)%2==0&&(t+="grid-control__body-rows--banded-row "),Ze&&1==n&&Number(e)>1&&(Number(e)+n)%2==0&&(t+="grid-control__body-rows--banded-row "),(0,_.jsx)("div",{className:"grid-control__body-row "+t,style:{"--bandedRowTextColor":fo,"--bandedRowBackgroundColor":vo},children:Ne.cells.filter((e=>e.row_id===l)).map((({table_id:e,row_id:o,column_id:l,cell_id:t,content:n,attributes:s,classes:a})=>{const r="1"===l,i=s.border,c=E(o,l,n),d=R(J,L,o);let u=Eo,b=Ro;return(0,_.jsxs)(_.Fragment,{children:[r&&i&&ge,i&&(0,_.jsxs)("div",{id:t,onMouseDown:e=>uo(l,o,Ne,e),className:a,children:[c,d&&(0,_.jsx)(Qe,{tableId:e,rowId:o,rowLabel:c,rowAttributes:Q,updatedRow:co})]}),r&&!i&&ge,!i&&(0,_.jsx)(m.RichText,{id:t,className:"grid-control__body-cells "+a,style:{"--showGridLines":u,"--gridLineWidth":b},tabIndex:"0",tagName:"div",onChange:o=>ao(e,"cell",t,"CONTENT",o),value:n})]})}))})}))})]})})})]})]}),!Re&&Be&&(0,_.jsx)(h.Spinner,{children:"Retrieving Table Data"}),Re&&(0,_.jsx)(h.Placeholder,{label:(0,g.__)("Dynamic Table"),icon:(0,_.jsx)(m.BlockIcon,{icon:w,showColors:!0}),instructions:(0,g.__)("Create a new dynamic table."),children:(0,_.jsxs)("form",{className:"blocks-table__placeholder-form",onSubmit:function(e){e.preventDefault(),ro(se,re,te)},children:[(0,_.jsx)(h.__experimentalInputControl,{label:(0,g.__)("Table Name"),placeholder:"New Table",required:"true",onChange:e=>ne(e),value:te,className:"blocks-table__placeholder-input"}),(0,_.jsx)(h.__experimentalNumberControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Table Columns"),min:1,required:"true",value:se,onChange:e=>function(e){let o=e;e<1||e>50?(P("error","Cannot have "+e+" columns.  You must have at least 1 and no more than 50 columns.",{id:"invalidNumColumns",isDismissible:!0,politeness:"assertive"}),o=Number(se)):k("invalidNumColumns"),ae(o)}(e),className:"blocks-table__placeholder-input"}),(0,_.jsx)(h.__experimentalNumberControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Table Rows"),required:"true",min:1,value:re,onChange:e=>function(e){let o=e;e<1||e>1e3?(P("error","Cannot have "+e+" rows.  You must have at least 1 and no more than 1,000 rows.",{id:"invalidNumRows",isDismissible:!0,politeness:"assertive"}),o=Number(re)):k("invalidNumRows"),ie(o)}(e),className:"blocks-table__placeholder-input"}),(0,_.jsx)(h.Button,{className:"blocks-table__placeholder-button",variant:"primary",type:"submit",children:(0,g.__)("Create Table")})]})})]});var ol},save:function(e){return null}})}},l={};function t(e){var n=l[e];if(void 0!==n)return n.exports;var s=l[e]={exports:{}};return o[e](s,s.exports,t),s.exports}t.m=o,e=[],t.O=(o,l,n,s)=>{if(!l){var a=1/0;for(d=0;d<e.length;d++){for(var[l,n,s]=e[d],r=!0,i=0;i<l.length;i++)(!1&s||a>=s)&&Object.keys(t.O).every((e=>t.O[e](l[i])))?l.splice(i--,1):(r=!1,s<a&&(a=s));if(r){e.splice(d--,1);var c=n();void 0!==c&&(o=c)}}return o}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[l,n,s]},t.d=(e,o)=>{for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0,350:0};t.O.j=o=>0===e[o];var o=(o,l)=>{var n,s,[a,r,i]=l,c=0;if(a.some((o=>0!==e[o]))){for(n in r)t.o(r,n)&&(t.m[n]=r[n]);if(i)var d=i(t)}for(o&&o(l);c<a.length;c++)s=a[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},l=globalThis.webpackChunkdynamic_tables=globalThis.webpackChunkdynamic_tables||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var n=t.O(void 0,[350],(()=>t(826)));n=t.O(n)})();